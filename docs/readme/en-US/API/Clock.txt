<h2>Clock</h2>
<p>clock in pure js</p>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Clock</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// start a clock updating every second from now</span></span>
<span class="line"><span style="color:#C792EA">const</span><span style="color:#BABED8"> padZero </span><span style="color:#89DDFF">=</span><span style="color:#BABED8;font-style:italic"> num</span><span style="color:#C792EA"> =></span><span style="color:#BABED8"> (num </span><span style="color:#89DDFF">+</span><span style="color:#89DDFF"> ''</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">padStart</span><span style="color:#BABED8">(</span><span style="color:#F78C6C">2</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">0</span><span style="color:#89DDFF">'</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Clock</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">null,</span><span style="color:#89DDFF"> null</span><span style="color:#BABED8"> or </span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic">year</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> month</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> week</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF">},</span><span style="color:#BABED8;font-style:italic"> date</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8"> console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF">`</span><span style="color:#C3E88D">now: </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">year</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D">-</span><span style="color:#89DDFF">${</span><span style="color:#BABED8">month</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D">-</span><span style="color:#89DDFF">${</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(day)</span><span style="color:#89DDFF">}</span><span style="color:#89DDFF"> ${</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(hour)</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D">:</span><span style="color:#89DDFF">${</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(minute)</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D">:</span><span style="color:#89DDFF">${</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(second)</span><span style="color:#89DDFF">}`</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#89DDFF">}</span><span style="color:#BABED8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// start from 2000-01-01 00:00:00 and updates every 5s, but paused to manually start</span></span>
<span class="line"><span style="color:#C792EA">const</span><span style="color:#BABED8"> clock </span><span style="color:#89DDFF">=</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Clock</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#BABED8">(</span><span style="color:#F78C6C">2000</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 5</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic">year</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> month</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> week</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF">},</span><span style="color:#BABED8;font-style:italic"> date</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {}</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#BABED8">clock</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#BABED8">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// start in 3s. if call clock.start(true), it will start from now!!</span></span>
<span class="line"><span style="color:#82AAFF">setTimeout</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#BABED8"> clock</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">start</span><span style="color:#BABED8">()</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 3000</span><span style="color:#BABED8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// start a clock updating every 60 seconds from given time, the first param and only run when page visible</span></span>
<span class="line"><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Clock</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#BABED8">(</span><span style="color:#F78C6C">2000</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C">0</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 60</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> true</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">parts</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> date</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">    console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#BABED8">date</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">toLocaleString</span><span style="color:#F07178">())</span></span>
<span class="line"><span style="color:#89DDFF">}</span><span style="color:#BABED8">)</span></span></code></pre>
<ul>
<li>integrated with vue</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> ref</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onBeforeUnmount</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onDeactivated</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">vue</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Clock</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">export</span><span style="color:#89DDFF;font-style:italic"> default</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#F07178">  setup</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">props</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> ctx</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> y</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      m</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      d</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      h</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      w</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      mn</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      s</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> ck</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Clock</span><span style="color:#F07178">(</span><span style="color:#89DDFF">null,</span><span style="color:#F78C6C"> 1</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> year</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> month</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> week</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      y</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> year</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      m</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> month</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      d</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> day</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      w</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> week</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      h</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> hour</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      mn</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> minute</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      s</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> second</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> padZero</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">num</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#F07178"> (</span><span style="color:#BABED8">num</span><span style="color:#89DDFF"> +</span><span style="color:#89DDFF"> ''</span><span style="color:#F07178">)</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">padStart</span><span style="color:#F07178">(</span><span style="color:#F78C6C">2</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">0</span><span style="color:#89DDFF">'</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF">    onBeforeUnmount</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      ck</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">remove</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">    onDeactivated</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      ck</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#F07178"> (</span></span>
<span class="line"><span style="color:#89DDFF">      &#x3C;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#89DDFF">        {</span><span style="color:#BABED8">y</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">-</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">m</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">-</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">d</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#BABED8"> day of week: </span><span style="color:#89DDFF">{</span><span style="color:#BABED8">w</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#89DDFF"> &#x26;</span><span style="color:#BABED8">nbsp</span><span style="color:#89DDFF">;&#x26;</span><span style="color:#BABED8">nbsp</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> {</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(h</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value)</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(m</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value)</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span></span>
<span class="line"><span style="color:#89DDFF">        {</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(s</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value)</span><span style="color:#89DDFF">}</span></span>
<span class="line"><span style="color:#89DDFF">      &#x3C;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#F07178">    )</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">  }</span></span>
<span class="line"><span style="color:#89DDFF">};</span></span></code></pre>
<ul>
<li>integrated with react</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#BABED8"> React</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> useState</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> useEffect</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> useRef</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">react</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Clock</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">export</span><span style="color:#89DDFF;font-style:italic"> default</span><span style="color:#C792EA"> function</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> end</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> run</span><span style="color:#89DDFF"> })</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#89DDFF"> [</span><span style="color:#BABED8">y</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setY</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">m</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setM</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">d</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setD</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">h</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setH</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">w</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setW</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">mn</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setMn</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">s</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setS</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#BABED8"> ckRef</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useRef</span><span style="color:#F07178">(</span><span style="color:#89DDFF">null</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#BABED8"> padZero</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">num</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#F07178"> (</span><span style="color:#BABED8">num</span><span style="color:#89DDFF"> +</span><span style="color:#89DDFF"> ''</span><span style="color:#F07178">)</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">padStart</span><span style="color:#F07178">(</span><span style="color:#F78C6C">2</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">0</span><span style="color:#89DDFF">'</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF">  useEffect</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    if</span><span style="color:#F07178"> (</span><span style="color:#89DDFF">!</span><span style="color:#BABED8">ckRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#BABED8">      ckRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Clock</span><span style="color:#F07178">(</span><span style="color:#89DDFF">null,</span><span style="color:#F78C6C"> 1</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> year</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> month</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> week</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#82AAFF">        setY</span><span style="color:#F07178">(</span><span style="color:#BABED8">year</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setM</span><span style="color:#F07178">(</span><span style="color:#BABED8">month</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setD</span><span style="color:#F07178">(</span><span style="color:#BABED8">day</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setW</span><span style="color:#F07178">(</span><span style="color:#BABED8">week</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setH</span><span style="color:#F07178">(</span><span style="color:#BABED8">hour</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setMn</span><span style="color:#F07178">(</span><span style="color:#BABED8">minute</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setS</span><span style="color:#F07178">(</span><span style="color:#BABED8">second</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">      }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      ckRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">remove</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      ckRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> null;</span></span>
<span class="line"><span style="color:#89DDFF">    };</span></span>
<span class="line"><span style="color:#89DDFF">  },</span><span style="color:#F07178"> [])</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#F07178"> (</span></span>
<span class="line"><span style="color:#89DDFF">    &#x3C;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#89DDFF">      {</span><span style="color:#BABED8">y</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">-</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">m</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">-</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">d</span><span style="color:#89DDFF">}</span><span style="color:#BABED8"> day of week: </span><span style="color:#89DDFF">{</span><span style="color:#BABED8">w</span><span style="color:#89DDFF">}</span><span style="color:#89DDFF"> &#x26;</span><span style="color:#BABED8">nbsp</span><span style="color:#89DDFF">;&#x26;</span><span style="color:#BABED8">nbsp</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> {</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(h)</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(mn)</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#82AAFF">padZero</span><span style="color:#BABED8">(s)</span><span style="color:#89DDFF">}</span></span>
<span class="line"><span style="color:#89DDFF">    &#x3C;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#F07178">  )</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>
<ul>
<li>type</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#82AAFF">Clock</span><span style="color:#BABED8">(begin</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> Date </span><span style="color:#89DDFF">|</span><span style="color:#89DDFF"> null,</span><span style="color:#BABED8"> step</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> number</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> runOnVisible</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> boolean</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onUpdate</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> onUpdate): Clock</span></span></code></pre>
