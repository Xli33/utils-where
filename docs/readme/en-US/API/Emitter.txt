<h2>Emitter</h2>
<p>get an event emitter with generics</p>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Emitter</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// event emitter</span></span>
<span class="line"><span style="color:#C792EA">const</span><span style="color:#BABED8"> appEmitter </span><span style="color:#89DDFF">=</span><span style="color:#82AAFF"> Emitter</span><span style="color:#89DDFF">&#x3C;{</span></span>
<span class="line"><span style="color:#F07178">  start</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> [</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#FFCB6B"> void</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  end</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> (</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#FFCB6B"> void</span><span style="color:#BABED8">)[]</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}></span><span style="color:#BABED8">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">appEmitter</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">on</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">start</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> console</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">log)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">on</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">start</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> console</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">info)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">once</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">end</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#BABED8"> console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#BABED8">(</span><span style="color:#F78C6C">2</span><span style="color:#BABED8">))</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">emit</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">end</span><span style="color:#89DDFF">'</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">emit</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">start</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> null</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">off</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">start</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> console</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">log)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">const</span><span style="color:#BABED8"> emitter </span><span style="color:#89DDFF">=</span><span style="color:#82AAFF"> Emitter</span><span style="color:#89DDFF">&#x3C;{</span></span>
<span class="line"><span style="color:#F07178">  hi</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> [</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">m</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> string</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#FFCB6B"> void</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  tell</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> (</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">t</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> boolean</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#FFCB6B"> boolean</span><span style="color:#BABED8">)[]</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}></span><span style="color:#BABED8">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">emitter</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">once</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">hi</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">s</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#82AAFF"> alert</span><span style="color:#BABED8">(s))</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">on</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">tell</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">s</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> !!</span><span style="color:#BABED8">s)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">emit</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">hi</span><span style="color:#89DDFF">'</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">emit</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">tell</span><span style="color:#89DDFF">'</span><span style="color:#BABED8">)</span></span>
<span class="line"><span style="color:#89DDFF">  .</span><span style="color:#82AAFF">off</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">tell</span><span style="color:#89DDFF">'</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">;</span></span></code></pre>
<ul>
<li>type</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#C792EA">interface</span><span style="color:#FFCB6B"> Evt</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  [</span><span style="color:#BABED8;font-style:italic">x</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> string</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> (</span><span style="color:#89DDFF">(...</span><span style="color:#BABED8;font-style:italic">args</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> any</span><span style="color:#BABED8">[]</span><span style="color:#89DDFF">)</span><span style="color:#C792EA"> =></span><span style="color:#FFCB6B"> any</span><span style="color:#BABED8">)[]</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">interface</span><span style="color:#FFCB6B"> Emitter</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#FFCB6B">T</span><span style="color:#C792EA"> extends</span><span style="color:#FFCB6B"> Evt</span><span style="color:#89DDFF">></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#F07178">  evts</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> T</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  on</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#FFCB6B">K</span><span style="color:#C792EA"> extends</span><span style="color:#89DDFF"> keyof</span><span style="color:#FFCB6B"> T</span><span style="color:#89DDFF">>(</span><span style="color:#BABED8;font-style:italic">name</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> K</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> func</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> T</span><span style="color:#BABED8">[</span><span style="color:#FFCB6B">K</span><span style="color:#BABED8">][</span><span style="color:#FFCB6B">number</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">):</span><span style="color:#FFCB6B"> this</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  once</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#FFCB6B">K</span><span style="color:#C792EA"> extends</span><span style="color:#89DDFF"> keyof</span><span style="color:#FFCB6B"> T</span><span style="color:#89DDFF">>(</span><span style="color:#BABED8;font-style:italic">name</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> K</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> func</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> T</span><span style="color:#BABED8">[</span><span style="color:#FFCB6B">K</span><span style="color:#BABED8">][</span><span style="color:#FFCB6B">number</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">):</span><span style="color:#FFCB6B"> this</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  off</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#FFCB6B">K</span><span style="color:#C792EA"> extends</span><span style="color:#89DDFF"> keyof</span><span style="color:#FFCB6B"> T</span><span style="color:#89DDFF">>(</span><span style="color:#BABED8;font-style:italic">name</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> K</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> func</span><span style="color:#89DDFF">?:</span><span style="color:#FFCB6B"> T</span><span style="color:#BABED8">[</span><span style="color:#FFCB6B">K</span><span style="color:#BABED8">][</span><span style="color:#FFCB6B">number</span><span style="color:#BABED8">]</span><span style="color:#89DDFF">):</span><span style="color:#FFCB6B"> this</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#F07178">  emit</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">name</span><span style="color:#89DDFF">:</span><span style="color:#89DDFF"> keyof</span><span style="color:#FFCB6B"> T</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ...</span><span style="color:#BABED8;font-style:italic">args</span><span style="color:#89DDFF">:</span><span style="color:#FFCB6B"> any</span><span style="color:#BABED8">[]</span><span style="color:#89DDFF">):</span><span style="color:#FFCB6B"> this</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8">Emitter</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#FFCB6B">T</span><span style="color:#C792EA"> extends</span><span style="color:#FFCB6B"> Evt</span><span style="color:#89DDFF">>()</span><span style="color:#C792EA"> =></span><span style="color:#BABED8"> Emitter</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#BABED8">T</span><span style="color:#89DDFF">></span></span></code></pre>
