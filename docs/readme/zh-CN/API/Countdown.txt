<h2>Countdown</h2>
<p>纯 js 倒计时</p>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Countdown</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// 开始一个 1 分 20 秒的倒计时</span></span>
<span class="line"><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Countdown</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">{</span><span style="color:#F07178"> minute</span><span style="color:#89DDFF">:</span><span style="color:#F78C6C"> 1</span><span style="color:#89DDFF">,</span><span style="color:#F07178"> second</span><span style="color:#89DDFF">:</span><span style="color:#F78C6C"> 20</span><span style="color:#89DDFF"> },</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#BABED8">minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> second</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// 开始一个 1 小时的倒计时，但暂停，然后手动启动</span></span>
<span class="line"><span style="color:#C792EA">const</span><span style="color:#BABED8"> cd </span><span style="color:#89DDFF">=</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Countdown</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#BABED8">(Date</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">now</span><span style="color:#BABED8">() </span><span style="color:#89DDFF">+</span><span style="color:#F78C6C"> 3600000</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF">`</span><span style="color:#C3E88D">days: </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">day</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> hours: </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">hour</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> minutes: </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">minute</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> seconds: </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">second</span><span style="color:#89DDFF">}`</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">cd</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#BABED8">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic">// 3 秒后启动。如果调用 cd.start(true)，它将在当前时间结束!!</span></span>
<span class="line"><span style="color:#82AAFF">setTimeout</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#BABED8"> cd</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">start</span><span style="color:#BABED8">()</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 3000</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic">// 开始一个直到目标时间的倒计时，并且只在页面可见时运行</span></span>
<span class="line"><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Countdown</span><span style="color:#BABED8">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#BABED8">(</span><span style="color:#F78C6C">2030</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 1</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 1</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 0</span><span style="color:#89DDFF">,</span><span style="color:#F78C6C"> 0</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> true</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> day</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF">`</span><span style="color:#C3E88D">left tims:</span><span style="color:#89DDFF">${</span><span style="color:#BABED8">day</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> days </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">hour</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> hours </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">minute</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> minutes </span><span style="color:#89DDFF">${</span><span style="color:#BABED8">second</span><span style="color:#89DDFF">}</span><span style="color:#C3E88D"> seconds</span><span style="color:#89DDFF">`</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span><span style="color:#BABED8">)</span><span style="color:#89DDFF">;</span></span></code></pre>
<ul>
<li>与 vue 集成</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> ref</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onBeforeUnmount</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onDeactivated</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">vue</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Countdown</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">export</span><span style="color:#89DDFF;font-style:italic"> default</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#F07178">  props</span><span style="color:#89DDFF">:</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#F07178">    end</span><span style="color:#89DDFF">:</span><span style="color:#BABED8"> Number</span></span>
<span class="line"><span style="color:#89DDFF">  },</span></span>
<span class="line"><span style="color:#F07178">  setup</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">props</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> ctx</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> leftH</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      leftM</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8">      leftS</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> ref</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> cd</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Countdown</span><span style="color:#F07178">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#F07178">(</span><span style="color:#BABED8">Date</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">now</span><span style="color:#F07178">() </span><span style="color:#89DDFF">+</span><span style="color:#BABED8"> props</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">end</span><span style="color:#F07178">)</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      leftH</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> hour</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      leftM</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> minute</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      leftS</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> second</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">    cd</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8">    ctx</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">expose</span><span style="color:#F07178">(</span><span style="color:#89DDFF">{</span><span style="color:#BABED8"> cd</span><span style="color:#89DDFF"> }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF">    onBeforeUnmount</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      cd</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">remove</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">    onDeactivated</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      cd</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#F07178"> (</span></span>
<span class="line"><span style="color:#89DDFF">      &#x3C;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#89DDFF">        {</span><span style="color:#BABED8">leftH</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">leftM</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">leftS</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">}</span></span>
<span class="line"><span style="color:#89DDFF">      &#x3C;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#F07178">    )</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">  }</span></span>
<span class="line"><span style="color:#89DDFF">};</span></span></code></pre>
<ul>
<li>与 react 集成</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#BABED8"> React</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> useState</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> useEffect</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> useRef</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">react</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">import</span><span style="color:#89DDFF"> {</span><span style="color:#BABED8"> Countdown</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> from</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">utils-where</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">export</span><span style="color:#89DDFF;font-style:italic"> default</span><span style="color:#C792EA"> function</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> end</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> run</span><span style="color:#89DDFF"> })</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#89DDFF"> [</span><span style="color:#BABED8">leftH</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setLeftH</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">(</span><span style="color:#F78C6C">0</span><span style="color:#F07178">)</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">leftM</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setLeftM</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">(</span><span style="color:#F78C6C">0</span><span style="color:#F07178">)</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#89DDFF">    [</span><span style="color:#BABED8">leftS</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> setLeftS</span><span style="color:#89DDFF">]</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useState</span><span style="color:#F07178">(</span><span style="color:#F78C6C">0</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#BABED8"> cdRef</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> useRef</span><span style="color:#F07178">(</span><span style="color:#89DDFF">null</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF">  useEffect</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    if</span><span style="color:#F07178"> (</span><span style="color:#89DDFF">!</span><span style="color:#BABED8">cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#BABED8">      cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> new</span><span style="color:#82AAFF"> Countdown</span><span style="color:#F07178">(</span><span style="color:#89DDFF">new</span><span style="color:#82AAFF"> Date</span><span style="color:#F07178">(</span><span style="color:#BABED8">Date</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">now</span><span style="color:#F07178">() </span><span style="color:#89DDFF">+</span><span style="color:#BABED8"> end</span><span style="color:#F07178">)</span><span style="color:#89DDFF">,</span><span style="color:#FF9CAC"> false</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> ({</span><span style="color:#BABED8;font-style:italic"> hour</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> minute</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> second</span><span style="color:#89DDFF"> })</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#82AAFF">        setLeftH</span><span style="color:#F07178">(</span><span style="color:#BABED8">hour</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setLeftM</span><span style="color:#F07178">(</span><span style="color:#BABED8">minute</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#82AAFF">        setLeftS</span><span style="color:#F07178">(</span><span style="color:#BABED8">second</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">      }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">stop</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">      cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">remove</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> null;</span></span>
<span class="line"><span style="color:#89DDFF">    };</span></span>
<span class="line"><span style="color:#89DDFF">  },</span><span style="color:#F07178"> [])</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF">  useEffect</span><span style="color:#F07178">(</span><span style="color:#89DDFF">()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">    cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#F07178">[</span><span style="color:#BABED8">run</span><span style="color:#89DDFF"> ?</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">start</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF"> :</span><span style="color:#89DDFF"> '</span><span style="color:#C3E88D">stop</span><span style="color:#89DDFF">'</span><span style="color:#F07178">]()</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> ()</span><span style="color:#C792EA"> =></span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">      if</span><span style="color:#F07178"> (</span><span style="color:#BABED8">cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#BABED8">        cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">remove</span><span style="color:#F07178">()</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">        cdRef</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">current</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> null;</span></span>
<span class="line"><span style="color:#89DDFF">      }</span></span>
<span class="line"><span style="color:#89DDFF">    };</span></span>
<span class="line"><span style="color:#89DDFF">  },</span><span style="color:#F07178"> [</span><span style="color:#BABED8">run</span><span style="color:#F07178">])</span><span style="color:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#F07178"> (</span></span>
<span class="line"><span style="color:#89DDFF">    &#x3C;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#89DDFF">      {</span><span style="color:#BABED8">leftH</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">leftM</span><span style="color:#89DDFF">}</span><span style="color:#BABED8">:</span><span style="color:#89DDFF">{</span><span style="color:#BABED8">leftS</span><span style="color:#89DDFF">}</span></span>
<span class="line"><span style="color:#89DDFF">    &#x3C;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">></span></span>
<span class="line"><span style="color:#F07178">  )</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>
<ul>
<li>type</li>
</ul>
<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#82AAFF">Countdown</span><span style="color:#BABED8">(to: Date </span><span style="color:#89DDFF">|</span><span style="color:#BABED8"> Partial</span><span style="color:#89DDFF">&#x3C;</span><span style="color:#BABED8">dhms</span><span style="color:#89DDFF">>,</span><span style="color:#BABED8"> runOnVisible</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> boolean</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> onCount</span><span style="color:#89DDFF">?:</span><span style="color:#BABED8"> onCount): Countdown</span></span></code></pre>
